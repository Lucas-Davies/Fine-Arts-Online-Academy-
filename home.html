<!DOCTYPE html>
<html lang="en-AU">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <title>Home â€” Fine Arts Online Academy (FAOA)</title>
  <link rel="stylesheet" href="assets/styles.css" />
  <style>
    /* --- Minimal fallback so rows/cards work even if styles.css is missing pieces --- */
    .wrap{ position:relative; z-index:1; padding-top:96px; padding-left:20px; padding-right:20px; padding-bottom:48px }
    .section{ margin-top:18px }
    .section-title{ margin:10px 2px; font-size:18px; font-weight:800; letter-spacing:.2px }

    .row{
      display:grid;
      grid-auto-flow:column;
      grid-auto-columns: clamp(160px, 32vw, 240px);
      gap:12px;
      overflow-x:auto;
      padding:6px 2px 14px;
      scroll-snap-type:x mandatory;
    }
    .row::-webkit-scrollbar{ display:none }

    .row > .card{
      position:relative; min-height:150px;
      border-radius:18px; border:1px solid rgba(255,255,255,.18);
      overflow:hidden; scroll-snap-align:start;
      display:flex; align-items:center; justify-content:center;
      text-align:center; color:#eef3ff;
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
    }
    .row > .card .title{ font-weight:800; letter-spacing:.2px }
    .upsell{ display:flex; align-items:center; justify-content:space-between; gap:16px;
             padding:14px; border-radius:12px; border:1px solid rgba(255,255,255,.18);
             background:rgba(0,0,0,.45); margin:0 0 16px }
    .upsell h2{ margin:0 0 4px; font-size:18px }
    .upsell p{ margin:0; color:rgba(238,243,255,.75) }
    .upsell-actions{ display:flex; gap:10px; flex-wrap:wrap }
  </style>
</head>
<body>

<!-- Top nav -->
<header class="nav">
  <div class="logo-block">
    <div class="logo">Fine Arts Online Academy</div>
    <div class="logo-sub">by Jody Graham</div>
  </div>
  <div class="nav-right">
    <span id="welcome" class="welcome"></span>
    <span id="pointsPill" class="pill" style="margin-left:8px">Points: 0</span>
    <button class="btn primary" id="logoutBtn">Sign Out</button>
  </div>
</header>

<!-- Background -->
<main class="page-wrap">
  <div class="bg home-bg" aria-hidden="true"></div>
  <div class="overlay" aria-hidden="true"></div>

  <section class="wrap">

    <!-- Featured row (placeholders only) -->
    <section class="section">
      <h2 class="section-title">Featured Courses</h2>
      <div class="row">
        <div class="card"><div class="title">Course 1</div></div>
        <div class="card"><div class="title">Course 2</div></div>
        <div class="card"><div class="title">Course 3</div></div>
        <div class="card"><div class="title">Course 4</div></div>
        <div class="card"><div class="title">Course 5</div></div>
        <div class="card"><div class="title">Course 6</div></div>
      </div>
    </section>

    <!-- Fundamentals -->
    <section class="section">
      <h2 class="section-title">Fundamentals</h2>
      <div class="row">
        <div class="card"><div class="title">Course 1</div></div>
        <div class="card"><div class="title">Course 2</div></div>
        <div class="card"><div class="title">Course 3</div></div>
        <div class="card"><div class="title">Course 4</div></div>
        <div class="card"><div class="title">Course 5</div></div>
        <div class="card"><div class="title">Course 6</div></div>
      </div>
    </section>

    <!-- 3-Day Courses -->
    <section class="section">
      <h2 class="section-title">3-Day Courses</h2>
      <div class="row">
        <div class="card"><div class="title">Course 1</div></div>
        <div class="card"><div class="title">Course 2</div></div>
        <div class="card"><div class="title">Course 3</div></div>
        <div class="card"><div class="title">Course 4</div></div>
        <div class="card"><div class="title">Course 5</div></div>
        <div class="card"><div class="title">Course 6</div></div>
      </div>
    </section>

    <!-- 30-Day Courses -->
    <section class="section">
      <h2 class="section-title">30-Day Courses</h2>
      <div class="row">
        <div class="card"><div class="title">Course 1</div></div>
        <div class="card"><div class="title">Course 2</div></div>
        <div class="card"><div class="title">Course 3</div></div>
        <div class="card"><div class="title">Course 4</div></div>
        <div class="card"><div class="title">Course 5</div></div>
        <div class="card"><div class="title">Course 6</div></div>
      </div>
    </section>

  </section>
</main>

<script src="assets/app.js"></script>
<script>
  // Require a session; guests allowed but show upsell
  let session = null;
  try { session = JSON.parse(localStorage.getItem('session')); } catch(e) {}
  if (!session) { window.location.replace('index.html'); }

  // Welcome label
  const welcome = document.getElementById('welcome');
  if (welcome && session?.user) {
    const label = session.kind === 'free' ? 'Guest' : (session.user.split('@')[0] || 'Member');
    welcome.textContent = `Hi, ${label}`;
  }

  // Upsell for guest/free
  if (session?.kind === 'free') {
    const upsell = document.getElementById('upsell');
    if (upsell) upsell.hidden = false;
  }

  // Points pill (optional)
  const profile = JSON.parse(localStorage.getItem('profile') || '{}');
  const pointsPill = document.getElementById('pointsPill');
  if (pointsPill) pointsPill.textContent = 'Points: ' + (profile.points || 0);
</script>
</body>
</html>