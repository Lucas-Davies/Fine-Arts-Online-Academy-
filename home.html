<!DOCTYPE html>
<html lang="en-AU">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <title>Home — Art Online by Jody Graham</title>
  <link rel="stylesheet" href="assets/styles.css" />
  <meta name="description" content="Daily & weekly challenges, foundations, live demonstrations, and online courses for drawing and painting." />
</head>
<body class="home-bg">
  <!-- Background hook (shared) -->
  <div class="bg" aria-hidden="true"></div>

  <!-- ===== Global Top Nav (shared) ===== -->
  <header class="nav">
    <div class="logo-block">
      <div class="logo-title">Art Online</div>
      <div class="logo-sub">by Jody Graham</div>
    </div>
    <div class="nav-actions">
      <button class="btn ghost" id="toggleSub" aria-pressed="false">Subscriber: <span id="subState">Off</span></button>
      <button class="btn primary" id="signinBtn">Sign in</button>
    </div>
  </header>

  <main class="wrap">
    <!-- ===== Tabs ===== -->
    <nav class="tabs" role="tablist" aria-label="Primary">
      <button class="tab is-active" role="tab" aria-selected="true" aria-controls="tab-challenges" id="tabbtn-challenges">Challenges</button>
      <button class="tab" role="tab" aria-selected="false" aria-controls="tab-foundations" id="tabbtn-foundations">Foundations</button>
      <button class="tab" role="tab" aria-selected="false" aria-controls="tab-courses" id="tabbtn-courses">Courses</button>
      <button class="tab" role="tab" aria-selected="false" aria-controls="tab-live" id="tabbtn-live">Live Demonstrations</button>
    </nav>

    <!-- ===== CHALLENGES ===== -->
    <section class="tab-panel is-active" id="tab-challenges" role="tabpanel" aria-labelledby="tabbtn-challenges">
      <!-- DAILY: full-width banner -->
      <article class="hero hero-banner daily-decal">
        <div class="hero-body">
          <div class="hero-text">
            <h2 class="hero-title xl">Today’s Daily Challenge</h2>
            <p class="hero-meta" id="dailyDate"></p>
            <p class="hero-desc">A bold, 15–20 minute warm-up. Try mixing drawing with a splash of paint or ink for energy.</p>
          </div>
          <div class="hero-cta cta-br">
            <button class="btn-square start start-br">Start<br/>Challenge</button>
          </div>
        </div>
      </article>

      <!-- WEEKLY: 3 side-by-side -->
      <div class="weekly-row" id="weeklyRow" data-locked="true" aria-label="Weekly Challenges">
        <!-- JS injects 3 weekly heroes -->
      </div>

      <!-- Lock overlay (subscribers only) -->
      <div class="lock-overlay" id="weeklyLock" aria-hidden="false">
        <div class="lock-card" role="dialog" aria-modal="false" aria-labelledby="lockTitle">
          <div class="lock-title" id="lockTitle">Subscribers only</div>
          <p class="lock-text">Unlock weekly challenges with a subscription.</p>
          <div class="lock-actions">
            <button class="btn primary">Subscribe</button>
            <button class="btn ghost" id="tryWeekly">Preview</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== FOUNDATIONS ===== -->
    <section class="tab-panel" id="tab-foundations" role="tabpanel" aria-labelledby="tabbtn-foundations">
      <h2 class="section-title">Foundations</h2>
      <div class="grid grid-3 tall-heroes">
        <article class="hero course">
          <div class="hero-body">
            <h3 class="hero-title">Materials & Setup</h3>
            <p class="hero-desc">Paper, charcoal, inks, brushes, easel, and safe workspace layout.</p>
            <div class="hero-cta cta-br"><button class="btn-square start">Start<br/>Course</button></div>
          </div>
        </article>
        <article class="hero course">
          <div class="hero-body">
            <h3 class="hero-title">Drawing</h3>
            <p class="hero-desc">Line, tone, proportion, gesture and observation — build confident habits.</p>
            <div class="hero-cta cta-br"><button class="btn-square start">Start<br/>Course</button></div>
          </div>
        </article>
        <article class="hero course">
          <div class="hero-body">
            <h3 class="hero-title">Painting</h3>
            <p class="hero-desc">Surface prep, colour mixing, value structure, and brushwork across acrylics and inks.</p>
            <div class="hero-cta cta-br"><button class="btn-square start">Start<br/>Course</button></div>
          </div>
        </article>
      </div>
    </section>

    <!-- ===== COURSES ===== -->
    <section class="tab-panel" id="tab-courses" role="tabpanel" aria-labelledby="tabbtn-courses">
      <h2 class="section-title">Online Courses</h2>

      <h3 class="section-title small">Foundation Courses</h3>
      <div class="grid grid-3 tall-heroes">
        <article class="hero course"><div class="hero-body"><h3 class="hero-title">Gesture Drawing</h3><p class="hero-desc">Fast, confident gestures to capture life.</p><div class="hero-cta cta-br"><button class="btn-square start">Start<br/>Course</button></div></div></article>
        <article class="hero course"><div class="hero-body"><h3 class="hero-title">Ink Essentials</h3><p class="hero-desc">Brush, pen, and splash control.</p><div class="hero-cta cta-br"><button class="btn-square start">Start<br/>Course</button></div></div></article>
        <article class="hero course"><div class="hero-body"><h3 class="hero-title">Charcoal Tonals</h3><p class="hero-desc">Structure with light and dark.</p><div class="hero-cta cta-br"><button class="btn-square start">Start<br/>Course</button></div></div></article>
      </div>

      <h3 class="section-title small">3-Day Courses</h3>
      <div class="grid grid-3 tall-heroes">
        <article class="hero course"><div class="hero-body"><h3 class="hero-title">Portrait Sprint</h3><p class="hero-desc">Planes, proportions, expression.</p><div class="hero-cta cta-br"><button class="btn-square start">Start<br/>Course</button></div></div></article>
        <article class="hero course"><div class="hero-body"><h3 class="hero-title">Urban Sketching</h3><p class="hero-desc">Perspective and texture in the wild.</p><div class="hero-cta cta-br"><button class="btn-square start">Start<br/>Course</button></div></div></article>
        <article class="hero course"><div class="hero-body"><h3 class="hero-title">Experimental Media</h3><p class="hero-desc">Combine mediums without fear.</p><div class="hero-cta cta-br"><button class="btn-square start">Start<br/>Course</button></div></div></article>
      </div>

      <h3 class="section-title small">30-Day Courses</h3>
      <div class="grid grid-3 tall-heroes">
        <article class="hero course"><div class="hero-body"><h3 class="hero-title">Drawing Foundations</h3><p class="hero-desc">Daily habit and core skills.</p><div class="hero-cta cta-br"><button class="btn-square start">Start<br/>Course</button></div></div></article>
        <article class="hero course"><div class="hero-body"><h3 class="hero-title">Paint with Confidence</h3><p class="hero-desc">Colour, value, edges.</p><div class="hero-cta cta-br"><button class="btn-square start">Start<br/>Course</button></div></div></article>
        <article class="hero course"><div class="hero-body"><h3 class="hero-title">Expressive Portraits</h3><p class="hero-desc">Structure plus spontaneity.</p><div class="hero-cta cta-br"><button class="btn-square start">Start<br/>Course</button></div></div></article>
      </div>
    </section>

    <!-- ===== LIVE DEMONSTRATIONS ===== -->
    <section class="tab-panel" id="tab-live" role="tabpanel" aria-labelledby="tabbtn-live">
      <h2 class="section-title">Live Demonstrations</h2>
      <p class="section-sub">We’ll configure this soon.</p>
      <div class="grid grid-2 tall-heroes">
        <article class="hero"><div class="hero-body"><h3 class="hero-title">Upcoming (placeholder)</h3><p class="hero-desc">Details soon.</p><div class="hero-cta cta-br"><button class="btn-square start">Register</button></div></div></article>
        <article class="hero"><div class="hero-body"><h3 class="hero-title">Replay (placeholder)</h3><p class="hero-desc">Details soon.</p><div class="hero-cta cta-br"><button class="btn-square start">Watch</button></div></div></article>
      </div>
    </section>
  </main>

  <script>
  /* ===== Tabs ===== */
  const tabButtons = [...document.querySelectorAll('.tab')];
  const panels = [...document.querySelectorAll('.tab-panel')];
  tabButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      tabButtons.forEach(b => {
        const selected = b === btn;
        b.classList.toggle('is-active', selected);
        b.setAttribute('aria-selected', selected ? 'true' : 'false');
      });
      panels.forEach(p => p.classList.remove('is-active'));
      const panel = document.getElementById(btn.getAttribute('aria-controls'));
      if (panel) panel.classList.add('is-active');
      window.scrollTo({top:0, behavior:'smooth'});
    });
  });

  /* ===== Subscriber toggle (sim) ===== */
  const toggleSub = document.getElementById('toggleSub');
  const subState = document.getElementById('subState');
  const weeklyRow = document.getElementById('weeklyRow');
  const weeklyLock = document.getElementById('weeklyLock');
  let isSub = false;
  function applySubState(){
    weeklyRow.dataset.locked = String(!isSub);
    weeklyLock.style.display = isSub ? 'none' : 'grid';
    subState.textContent = isSub ? 'On' : 'Off';
    toggleSub.setAttribute('aria-pressed', isSub ? 'true' : 'false');
  }
  toggleSub?.addEventListener('click', ()=>{ isSub = !isSub; applySubState(); });
  document.getElementById('tryWeekly')?.addEventListener('click', ()=>{
    weeklyLock.classList.add('peek'); setTimeout(()=>weeklyLock.classList.remove('peek'), 1000);
  });

  /* ===== Daily: date text ===== */
  const dayNames = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
  const today = new Date();
  const pad = n => String(n).padStart(2,'0');
  const dailyDate = document.getElementById('dailyDate');
  dailyDate.textContent = `${dayNames[today.getDay()]} ${pad(today.getDate())}/${pad(today.getMonth()+1)}`;

  /* ===== Weekly (3 cards): start Sunday 00:00; expire 4 weeks later Sunday 00:00 ===== */
  function startOfSunday(d){
    const x = new Date(d.getFullYear(), d.getMonth(), d.getDate());
    const day = x.getDay(); /* 0=Sun */
    const diff = (day + 7) % 7; /* days since last Sunday */
    x.setDate(x.getDate() - diff);
    x.setHours(0,0,0,0);
    return x;
  }
  function addWeeks(d, w){ const x = new Date(d); x.setDate(x.getDate() + w*7); return x; }
  function card(label, start, expiry){
    const expired = today >= expiry;
    const startTxt = `${pad(start.getDate())}/${pad(start.getMonth()+1)}`;
    const endTxt   = `${pad(expiry.getDate())}/${pad(expiry.getMonth()+1)}`;
    return `
      <article class="hero weekly">
        <div class="hero-body">
          <h3 class="hero-title">Week of ${startTxt}</h3>
          <p class="hero-meta">Expires ${endTxt} • Starts ${startTxt}</p>
          <p class="hero-desc">Guided theme with steps and an optional mixed-media variation.</p>
          <div class="hero-cta cta-bl">
            <button class="btn-square start start-bl" ${expired ? 'disabled' : ''}>Start<br/>Challenge</button>
          </div>
          <div class="hero-expiry ${expired ? 'is-expired':''}">${expired ? 'Expired' : 'Active'}</div>
        </div>
      </article>`;
  }
  function buildWeekly(){
    weeklyRow.innerHTML = '';
    const baseSunday = startOfSunday(today);
    const sundays = [0,-1,-2].map(w => addWeeks(baseSunday, w));
    sundays.forEach(s => {
      const expiry = addWeeks(s, 4);
      weeklyRow.insertAdjacentHTML('beforeend', card('Weekly', s, expiry));
    });
  }
  buildWeekly();
  applySubState();
  </script>
</body>
</html>