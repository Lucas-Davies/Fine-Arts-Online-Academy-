<!DOCTYPE html>
<html lang="en-AU">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <title>Fine Arts Online Academy (FAOA)</title>
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body class="no-scroll">

  <!-- Top nav with logo -->
  <header class="nav">
    <div class="logo-block">
      <div class="logo">Fine Arts Online Academy</div>
      <div class="logo-sub">by Jody Graham</div>
    </div>
  </header>

  <!-- Hero (no page scroll; full-bleed background) -->
  <main class="hero-wrap">
    <div class="bg" aria-hidden="true"></div>
    <div class="overlay" aria-hidden="true"></div>

    <section class="hero">
      <h1 class="hero-title">Create. Learn. Grow.</h1>
      <p class="hero-sub">Lessons, demos and workshops that build your art.</p>
      <p class="hero-sub">From $19.99. Cancel anytime.</p>

      <div class="hero-buttons">
        <button class="btn cta-btn" id="openLogin" type="button">Sign In</button>
        <button class="btn cta-btn" id="joinFree" type="button">Join Free</button>
        <a class="btn cta-btn ghost" href="learn.html">Learn More</a>
      </div>

      <p class="hero-cap">Let your creativity take over.</p>
    </section>
  </main>

  <!-- Sign-in modal (centered over hero) -->
  <div
    id="loginModal"
    class="modal"
    aria-hidden="true"
    aria-modal="true"
    role="dialog"
    aria-label="Member login"
    tabindex="-1"
  >
    <div class="card" id="loginCard">
      <!-- No close button; backdrop/Esc closes -->

      <h2 class="card-title">Sign In</h2>
      <p class="card-sub">Welcome back to Fine Arts Online Academy</p>

      <form id="loginForm" class="form" novalidate>
        <label for="email">Email</label>
        <input
          id="email"
          type="email"
          required
          placeholder="you@example.com"
          autocomplete="username"
          inputmode="email"
        />

        <label for="password" class="has-eye">Password
          <input
            id="password"
            type="password"
            required
            minlength="6"
            placeholder="••••••••"
            autocomplete="current-password"
          />
          <button class="eye" type="button" data-eye="#password" aria-controls="password" aria-label="Show password">Show</button>
        </label>

        <p id="authMsg" class="msg" role="alert" aria-live="polite" hidden></p>

        <div class="row">
          <button class="btn primary" type="submit">Sign In</button>
          <button class="btn ghost" type="button" id="reset">Forgot password</button>
        </div>
      </form>
    </div>
  </div>

  <script src="assets/app.js"></script>
  <script>
    // Keep your Stage One placeholder reset flow
    const resetBtn = document.getElementById('reset');
    if (resetBtn) {
      resetBtn.addEventListener('click', ()=> {
        alert('Password reset coming in Stage Two');
      });
    }

    // Defensive: ensure clicks inside the card never close the modal,
    // even if app.js isn't loaded for some reason.
    (function(){
      const modal = document.getElementById('loginModal');
      const card  = document.getElementById('loginCard');
      if (modal && card) {
        card.addEventListener('click', (e)=> e.stopPropagation());
        modal.addEventListener('click', (e)=> {
          if (e.target === modal) {
            // rely on app.js hideModal; fallback if missing:
            if (typeof hideModal === 'function') hideModal();
            else modal.classList.remove('show');
          }
        });
        // ESC support fallback
        window.addEventListener('keydown', (e)=>{
          if (e.key === 'Escape' && modal.classList.contains('show')) {
            if (typeof hideModal === 'function') hideModal();
            else modal.classList.remove('show');
          }
        });
      }
    })();
  </script>
</body>
</html>